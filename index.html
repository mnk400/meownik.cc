<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>meownik.cc</title>
    <link rel="stylesheet" href="https://manik.cc/style/export.css">
    <style>
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0;
            padding: var(--spacing-md);
            box-sizing: border-box;
        }

        .cat-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex: 1;
            width: 100%;
        }

        .cat-image {
            max-width: 90vw;
            max-height: 80vh;
            object-fit: contain;
            cursor: pointer;
            opacity: 0;
            transition: opacity var(--transition-normal, 0.3s) ease;
            border-radius: var(--radius-md, 8px);
        }

        .cat-image.loaded {
            opacity: 1;
        }

        .loading {
            color: var(--text-secondary, #666);
            font-size: var(--font-size-sm, 0.875rem);
        }

        .error-container {
            text-align: center;
        }

        .error-message {
            color: var(--text-secondary, #666);
            margin-bottom: var(--spacing-md, 1rem);
        }

        footer {
            padding: var(--spacing-md, 1rem);
            color: var(--text-secondary, #666);
            font-size: var(--font-size-sm, 0.875rem);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <main class="cat-container">
        <p class="loading" id="loading">Loading cat...</p>
        <img class="cat-image hidden" id="cat" alt="Random cat" tabindex="0">
        <div class="error-container hidden" id="error">
            <p class="error-message">Failed to load cat. Please try again.</p>
            <button class="btn" id="retry">Retry</button>
        </div>
    </main>
    <footer>meownik.cc</footer>

    <script>
        const catImage = document.getElementById('cat');
        const loading = document.getElementById('loading');
        const errorContainer = document.getElementById('error');
        const retryButton = document.getElementById('retry');

        function loadCat() {
            // Reset state
            catImage.classList.add('hidden');
            catImage.classList.remove('loaded');
            errorContainer.classList.add('hidden');
            loading.classList.remove('hidden');

            // Cache-bust with timestamp
            const url = `https://cataas.com/cat?${Date.now()}`;

            catImage.onload = function() {
                loading.classList.add('hidden');
                catImage.classList.remove('hidden');
                // Trigger fade-in on next frame
                requestAnimationFrame(() => {
                    catImage.classList.add('loaded');
                });
            };

            catImage.onerror = function() {
                loading.classList.add('hidden');
                errorContainer.classList.remove('hidden');
            };

            catImage.src = url;
        }

        // Click on cat to load new one
        catImage.addEventListener('click', loadCat);

        // Retry button
        retryButton.addEventListener('click', loadCat);

        // Spacebar to load new cat
        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space' && e.target === document.body) {
                e.preventDefault();
                loadCat();
            }
        });

        // Load initial cat
        loadCat();
    </script>
</body>
</html>
